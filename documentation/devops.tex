	\documentclass[bachelor, och, referat, times]{resourses/SCWorks}
% параметр - тип обучения - одно из значений:
%    spec     - специальность
%    bachelor - бакалавриат (по умолчанию)
%    master   - магистратура
% параметр - форма обучения - одно из значений:
%    och   - очное (по умолчанию)
%    zaoch - заочное
% параметр - тип работы - одно из значений:
%    referat    - реферат
%    coursework - курсовая работа (по умолчанию)
%    diploma    - дипломная работа
%    pract      - отчет по практике
% параметр - включение шрифта
%    times    - включение шрифта Times New Roman (если установлен)
%               по умолчанию выключен
\usepackage[T2A]{fontenc}
\usepackage[cp1251]{inputenc}
\usepackage{graphicx}

\usepackage[sort,compress]{cite}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{fancyvrb}
\usepackage{verbatim}
\usepackage{longtable}
\usepackage{array}
\usepackage[english,russian]{babel}
\usepackage{tikz}
\usepackage{listings}
\usepackage{listingsutf8}
\usepackage{multirow}
\usepackage{enumitem}


\usepackage[colorlinks=false]{hyperref}


\newcommand{\eqdef}{\stackrel {\rm def}{=}}

\newtheorem{lem}{Лемма}

\begin{document}

% Кафедра (в родительном падеже)
\chair{математической кибернетики и компьютерных наук}

% Тема работы
\title{Документация для развертывания системы CI/CD}

% Курс
\course{4}

% Группа
\group{451}

% Факультет (в родительном падеже) (по умолчанию "факультета КНиИТ")
%\department{факультета КНиИТ}

% Специальность/направление код - наименование
%\napravlenie{02.03.02 "--- Фундаментальная информатика и информационные технологии}
%\napravlenie{010500 "--- Математическое обеспечение и администрирование информационных систем}
%\napravlenie{230100 "--- Информатика и вычислительная техника}
\napravlenie{09.03.04 "--- Программная инженерия}
%\napravlenie{090301 "--- Компьютерная безопасность}

% Для студентки. Для работы студента следующая команда не нужна.
\studenttitle{студентов}

% Фамилия, имя, отчество в родительном падеже
\author{Левшунова Михаила Александровича \\ Уколовой Марии Владимировны \\ Кожиной Ольги Олеговны \\ Мкртчян Арташеса Асканазовича \\ Соколкова Павла Вячеславовича \\ Колесникова Виктора Анатольевича}

% Заведующий кафедрой
\chtitle{к.\,ф.-м.\,н.} % степень, звание
\chname{С.\,В.\,Миронов} %Миронов\;С.\,В.

%Научный руководитель (для реферата преподаватель проверяющий работу)
\satitle{доцент, к.\,ф.-м.\,н.} %должность, степень, звание
\saname{М.\,С.\,Семенов}

% Руководитель практики от организации (только для практики,
% для остальных типов работ не используется)
\patitle{руководитель ЦОПП"=СГУ}
\paname{М.~Р.~Мирзаянов}

% Семестр (только для практики, для остальных
% типов работ не используется)
\term{2}

% Наименование практики (только для практики, для остальных
% типов работ не используется)
\practtype{учебная} %Учебная или производственная

% Продолжительность практики (количество недель) (только для практики,
% для остальных типов работ не используется)
\duration{2}

% Даты начала и окончания практики (только для практики, для остальных
% типов работ не используется)
\practStart{01.07.2016}
\practFinish{14.07.2016}

% Год выполнения отчета
\date{2019}

\maketitle

% Включение нумерации рисунков, формул и таблиц по разделам 1.1, 1.2, 2.1, ...
% (по умолчанию - нумерация сквозная)
% (допускается оба вида нумерации)
%\secNumbering


\tableofcontents

% Раздел "Обозначения и сокращения". Может отсутствовать в работе
%\abbreviations

% Раздел "Определения". Может отсутствовать в работе
%\definitions

% Раздел "Определения, обозначения и сокращения". Может отсутствовать в работе.
% Если присутствует, то заменяет собой разделы "Обозначения и сокращения" и "Определения"
%\defabbr

% Раздел "Введение"
%\intro

\section{Основная часть}
\subsection{Необходимое ПО}

Для установки системы непрерывной интеграции и развёртывания необходимо:
\begin{enumerate}
\item{Unix"=подобная операционная система, желательно Ubuntu 18.04;}
\item{Java версии 1.8;}
\item{Docker CE, инструкция по установке https://docs.docker.com/install/linux/docker-ce/ubuntu/;}
\item{Selenium Webdriver;}
\end{enumerate}

\subsection{Установка}

Для установки системы CI/CD Jenkins необходимо выполнить следующие шаги:
\begin{enumerate}
\item{скачать архив \textit{jenkins\_home.tar} и разархивировать его в папку \textit{/home/<user>/.jenkins};}
\item{скачать \textit{jenkins.war};}
\item{в командной строке выполнить\textit{ java -jar jenkins.war --httpPort=8081};}
\item{в браузере перейти по адресу \textit{localhost:8081}, вы попадёте на страницу запуска Jenkins;}
\item{ввести логин \textit{admin} и пароль \textit{jkh\_admin};}
\end{enumerate}

Вы попадёте на главную страницу Jenkins, в котором уже будет определено несколько \textit{job}. 
Для запуска соответсвующей перейдите в неё, запустите, вписав соответствующие параметры.

\subsection{Преднастроенные сборки}
\subsubsection{back\_tests}

Данная джоба (\textit{job}) предназначена для запуска основных юнит-тестов проекта. Она используется
для проверки работоспособности бек-енда и базы данных. 
\begin{enumerate}
\item {для запуска нажмите соответствующую джобу;}
\item{нажмите "собрать с параметрами";}
\item{в поле \textit{GROUP} оставьте значение по умолчанию, BE в данном случае обозначает Back End тесты
и не должно меняться. В поле \textit{BUILD\_BRANCH} введите название ветки, в которой содержится исходный 
код проекта, в поле \textit{TEST\_BRANCH} оставьте значение по умолчанию;}
\item{нажмите \textit{собрать}.}
\end{enumerate}

После успешной сборки вы сможете в артефактах сборки найти результаты выполнения тестов. Папку target.tar и 
архив allure-report.zip. Кроме того, результаты тестов доступны по нажатию на \textit{Allure report}, \textit{HTML report},
\textit{Surefire}. В каждом из отчетов будет содержаться информация с соответсвующим оформлением тестов.

\subsubsection{front\_tests}
Данная джоба аналогична джобе \textit{back\_tests} за исключением сборочных параметров.
В поле \textit{GROUP} оставьте значение по умолчанию, FE в данном случае обозначает Front End тесты
и не должно меняться. В поле \textit{BUILD\_BRANCH} введите название ветки, в которой содержится исходный 
код проекта, в поле \textit{TEST\_BRANCH} введтие имя ветки, в которой содержатся тесты.

Данная джоба позволяет провести более полную проверку продукта. Происходит полноценный запуск всего 
комплекса компонентов: база данных, бек-енд и фронт-енд приложения. Тесты проводятся с помощью Selenium
Webdriver и имитируют поведение пользователей на странице приложения.

\subsubsection{backend}

Данная джоба предназначена для сборки бек-енд части приложения. Происходит загрузка кода приложения 
из github, сборка и упаковка в docker контейнер.
\begin{enumerate}
\item {для запуска нажмите соответствующую джобу;}
\item{нажмите "собрать с параметрами";}
\item{в поле \textit{BUILD\_BRANCH} введите имя ветки, в которой содержится исходный 
код проекта;}
\item{нажмите \textit{собрать}.}
\end{enumerate}

После успешного выполнения сборки в папке \textit{Артефакты сборки} будет храниться докер контейнер, 
сохраненный в формате tar. Его можно загрузить и загрузить в докер для дальнейшего использования.


\subsubsection{backend}

Данная джоба предназначена для сборки фронт-енд части приложения. Происходит загрузка кода приложения 
из github, сборка и упаковка в docker контейнер. Это джоба схожа с джобой для бек-енд сборки за тем 
исключением, что нельзя указать ветки для сборки. Сборка всегда производится из ветки \textit{dev}. 
Для запуска необходимо нажать \textit{Собрать сейчас}.

\subsubsection{backend}

Данная джоба предназначена для полной сборки приложения и публикации его на удалённом сервере. Перед началом
сборки на удалённом сервере должен быть запущен докер контейнер с базой данных mysql
\begin{enumerate}
\item {для запуска нажмите соответствующую джобу;}
\item{нажмите "собрать с параметрами";}
\item{в поле \textit{BRANCH} введите имя ветки, в которой содержится исходный 
код проекта, в поле \textit{REMOTE\_IP} введите IP-адрес удалённого сервера, на котором будет
развёрнуто приложени (при этом необходимо помнить, что для смены удалённого сервера также нужно вносить
изменения в исходный код фронт-енд приложения);}
\item{нажмите \textit{собрать}.}
\end{enumerate}

После успешного выполнения сборки на удалённом сервере будет запущено приложение.

% Раздел "Заключение"
%\conclusion

% Список литературы
%\bibliographystyle{gost780uv}
%\bibliography{thesis}

% Окончание основного документа и начало приложений
% Каждая последующая секция документа будет являться приложением
%\appendix

\end{document}